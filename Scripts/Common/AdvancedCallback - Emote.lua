_G.EMOTE_DANCE = 0
_G.EMOTE_TAUNT = 1
_G.EMOTE_LAUGH = 2
_G.EMOTE_JOKE = 3

load(Base64Decode("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"),nil,"b",_ENV)()

_ENV = AdvancedCallback:register('OnEmote')

function OnRecvPacket(p)
	if p.header == 0x14 then 
		p.pos = 1
		local networkID = p:DecodeF()
        local typeID = p:Decode1()
        local unit = objManager:GetObjectByNetworkId(networkID)

        if unit and unit.valid then
            if AdvancedCallback:OnEmote(unit, typeID) == false then
                p:Block()
            end
        end
    end
end
